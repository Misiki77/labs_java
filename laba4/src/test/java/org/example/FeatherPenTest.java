package org.example;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class FeatherPenTest {

    @Test
    void calculatePrice() {
        FeatherPen featherPen = new FeatherPen();
        featherPen.setNumFeatherPens(4);
        featherPen.calculatePrice();
        assertEquals(160, featherPen.getNumFeatherPens() * featherPen.getFeatherPenPriceInGryvnias());
    }

    @Test
    String getHeaders() {
        FeatherPen featherPen = new FeatherPen();
        return "id" + "," + " brand" + "," + " color" + "," + " material" + "," + " size" + "," + " feather_type" + "," + " ink_type" + "," + " numFeatherPens" + "," + " featherPenPriceInGryvnias";
    }
    @Test
    String toCSV(){
        FeatherPen featherPen = new FeatherPen();
        featherPen.setFeatherType("straus' feather");
        featherPen.setInkType("octopus' ink");
        featherPen.setNumFeatherPens(2);
        featherPen.toCSV();
        assertEquals(1, featherPen.size);
        return featherPen.id+", "+featherPen.brand+", "+featherPen.color+", "+featherPen.material+", "+featherPen.size+", "+featherPen.featherType+", "+featherPen.inkType+featherPen.numFeatherPens+", "+featherPen.featherPenPriceInGryvnias;
    }

    @Test
    void featherTypeTest(){
        FeatherPen featherPen = new FeatherPen();
        featherPen.setFeatherType("straus' feather");
        assertEquals("straus' feather", featherPen.getFeatherType());
    }
    @Test
    void inkTypeTest(){
        FeatherPen featherPen = new FeatherPen();
        featherPen.setInkType("octopus' ink");
        assertEquals("octopus' ink", featherPen.getInkType());
    }
    @Test
    void getHeadersTest(){
        FeatherPen featherPen = new FeatherPen();
        featherPen.setInkType("octopus' ink");
        featherPen.setFeatherType("straus' feather");
        featherPen.setNumFeatherPens(5);

        String reality = featherPen.getHeaders();
        String expected = "id, brand, color, material, size, feather_type, ink_type, numFeatherPens, featherPenPriceInGryvnias";
        assertEquals(expected, reality);
    }
    @Test
    void toCSVTest(){
        FeatherPen featherPen = new FeatherPen();
        featherPen.setInkType("octopus' ink");
        featherPen.setFeatherType("straus' feather");
        featherPen.setNumFeatherPens(3);

        String reality = featherPen.toCSV();
        String expected = "isn-101, null, null, null, 0, straus' feather, octopus' ink, 3, 40";
        assertEquals(expected, reality);
    }
}
