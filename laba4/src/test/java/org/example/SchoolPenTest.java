package org.example;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.*;

class SchoolPenTest {

    @Test
    void addPen() {
        SchoolPen schoolPen = new SchoolPen();
        schoolPen.setNumPens(1);
        schoolPen.addPen();
      assertEquals(2,schoolPen.getNumPens());
    }

    @Test
    void addPencil() {
        SchoolPen schoolPen = new SchoolPen();
        schoolPen.setNumPencils(2);
        schoolPen.addPencil();
        assertEquals(3, schoolPen.getNumPencils());
    }

    @Test
    void removePen() {
        SchoolPen schoolPen = new SchoolPen();
        schoolPen.setNumPens(3);
        schoolPen.removePen();
        assertEquals(2, schoolPen.getNumPens());
    }

    @Test
    void removePencils() {
        SchoolPen schoolPen = new SchoolPen();
        schoolPen.setNumPencils(4);
        schoolPen.removePencils();
        assertEquals(3, schoolPen.getNumPencils());
    }

    @Test

    void calculatePrice() {
        SchoolPen schoolPen = new SchoolPen();
        schoolPen.setNumPens(4);
        schoolPen.setNumPencils(3);
        schoolPen.setNumErasers(1);
        schoolPen.calculatePrice();
        assertEquals(91, schoolPen.getNumPens()*schoolPen.getPenPriceInGryvnias()+schoolPen.getNumPencils()*schoolPen.getPencilsPriceInGryvnias()+schoolPen.getNumErasers()*schoolPen.getEraserPriceInGryvnias());
    }
    @Test
    void getHeadersTest(){
        SchoolPen schoolPen = new SchoolPen();
        schoolPen.setNumPencils(4);
        schoolPen.setNumPens(5);
        schoolPen.setNumErasers(1);

        String reality = schoolPen.getHeaders();
        String expected = "id, brand, color, material, size, numPens, numPencils, numErasers, pencilsPriceInGryvnias, penPriceInGryvnias, eraserPriceInGryvnias";
        assertEquals(expected, reality);
    }
    @Test
    void toCSVTest(){
        SchoolPen schoolPen = new SchoolPen();
        schoolPen.setNumPencils(4);
        schoolPen.setNumPens(5);
        schoolPen.setNumErasers(1);

        String reality = schoolPen.toCSV();
        String expected = "isn-101, null, null, null, 0, 5, 4, 1, 15, 7, 10";
        assertEquals(expected, reality);
    }
}